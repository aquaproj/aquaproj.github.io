<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-products/aqua-registry/contributing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Contributing | aqua</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://aquaproj.github.io/docs/products/aqua-registry/contributing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Contributing | aqua"><meta data-rh="true" name="description" content="How to contribute to Standard Registry. https://github.com/aquaproj/aqua-registry"><meta data-rh="true" property="og:description" content="How to contribute to Standard Registry. https://github.com/aquaproj/aqua-registry"><link data-rh="true" rel="icon" href="https://raw.githubusercontent.com/aquaproj/aqua/main/logo/aqua_without_text.svg"><link data-rh="true" rel="canonical" href="https://aquaproj.github.io/docs/products/aqua-registry/contributing"><link data-rh="true" rel="alternate" href="https://aquaproj.github.io/docs/products/aqua-registry/contributing" hreflang="en"><link data-rh="true" rel="alternate" href="https://aquaproj.github.io/docs/products/aqua-registry/contributing" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://OBO5AZ814M-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="aqua" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.54b3d09e.css">
<link rel="preload" href="/assets/js/runtime~main.59d4f377.js" as="script">
<link rel="preload" href="/assets/js/main.d0de2ca8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://raw.githubusercontent.com/aquaproj/aqua/main/logo/aqua_without_text.svg" alt="aqua Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://raw.githubusercontent.com/aquaproj/aqua/main/logo/aqua_without_text.svg" alt="aqua Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">aqua</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://notebooklm.google.com/notebook/874e89e4-66a1-459a-82c9-923b81501a71" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">NotebookLM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://deepwiki.com/aquaproj/aqua" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DeepWiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/docs/#contact-us">Contact</a><a href="https://github.com/aquaproj/aqua" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/install">Install</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorial/">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides/">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/develop-registry/">Develop Registry</a><button aria-label="Toggle the collapsible sidebar category &#x27;Develop Registry&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/products/">Products</a><button aria-label="Toggle the collapsible sidebar category &#x27;Products&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/products/aqua-registry/">aqua-registry</a><button aria-label="Toggle the collapsible sidebar category &#x27;aqua-registry&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/products/aqua-registry/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/aqua-registry/changelog">Changelog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/products/aqua-installer/">aqua-installer</a><button aria-label="Toggle the collapsible sidebar category &#x27;aqua-installer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/circleci-orb-aqua">circleci-orb-aqua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/aqua-renovate-config">aqua-renovate-config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/update-checksum-action">update-checksum-action</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/devcontainer-features">devcontainer-features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/update-checksum-workflow">update-checksum-workflow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/products/aqua-proxy">aqua-proxy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/reference/config/">Reference</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/trouble-shooting">Trouble Shooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/products/"><span itemprop="name">Products</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/products/aqua-registry/"><span itemprop="name">aqua-registry</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Contributing</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Contributing</h1><p>How to contribute to Standard Registry. <a href="https://github.com/aquaproj/aqua-registry" target="_blank" rel="noopener noreferrer">https://github.com/aquaproj/aqua-registry</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="see-also">See also<a href="#see-also" class="hash-link" aria-label="Direct link to See also" title="Direct link to See also">​</a></h2><ul><li>⭐ <a href="https://github.com/suzuki-shunsuke/oss-contribution-guide" target="_blank" rel="noopener noreferrer">OSS Contribution Guide</a></li><li>⭐ <a href="/docs/develop-registry/registry-style-guide">Registry Style Guide</a></li><li><a href="/docs/reference/registry-config/">Registry Configuration</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changelog-of-document-and-development-workflow">Changelog of document and development workflow<a href="#changelog-of-document-and-development-workflow" class="hash-link" aria-label="Direct link to Changelog of document and development workflow" title="Direct link to Changelog of document and development workflow">​</a></h2><p><a href="/docs/products/aqua-registry/changelog">change log</a>.</p><ul><li><a href="#note-of-programing-language-support">2025-01-19 Add <code>Note of Programing Language Support</code></a></li><li><a href="/docs/products/aqua-registry/changelog#2024-12-14">2024-12-14 Remove <code>cmdx new</code> from the guide</a></li><li><a href="/docs/products/aqua-registry/changelog#2024-05-24">2024-05-24 The behaviour of <code>cmdx s</code>, <code>cmdx t</code>, and <code>cmdx new</code> were changed.</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="should-you-create-an-issue-before-sending-a-pull-request">Should you create an Issue before sending a Pull Request?<a href="#should-you-create-an-issue-before-sending-a-pull-request" class="hash-link" aria-label="Direct link to Should you create an Issue before sending a Pull Request?" title="Direct link to Should you create an Issue before sending a Pull Request?">​</a></h2><p>Basically, you don&#x27;t have to create an Issue before sending a Pull Request.
But if the pull request requires the discussion before reviewing, you have to create an Issue in advance.</p><p>For example, you don&#x27;t have to create an Issue in the following cases.</p><ul><li>Add a package</li><li>Fix a typo</li></ul><p>On the other hand, for example if you want to change the directory structure in <code>pkgs</code> or the workflow adding a package,
you have to create an Issue and describe what is changed and why the change is needed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="aqua-cant-support-some-tools-plugin-mechanism">aqua can&#x27;t support some tools&#x27; plugin mechanism<a href="#aqua-cant-support-some-tools-plugin-mechanism" class="hash-link" aria-label="Direct link to aqua can&#x27;t support some tools&#x27; plugin mechanism" title="Direct link to aqua can&#x27;t support some tools&#x27; plugin mechanism">​</a></h2><p>Some tools have the plugin mechanism.</p><p>e.g.</p><ul><li><a href="https://docs.github.com/en/github-cli/github-cli/creating-github-cli-extensions" target="_blank" rel="noopener noreferrer">GitHub CLI Extension</a></li><li><a href="https://developer.hashicorp.com/terraform/language/providers" target="_blank" rel="noopener noreferrer">Terraform provider</a></li><li><a href="https://docs.gauge.org/plugin.html?os=macos&amp;language=java&amp;ide=null" target="_blank" rel="noopener noreferrer">Gauge plugin</a></li><li>etc</li></ul><p>aqua simply installs commands in PATH (<code>AQUA_ROOT_DIR/bin</code>), but some of these plugins expect to be installed in the other location.
If aqua can&#x27;t support the plugin, we will reject the pull request adding the plugin to aqua-registry.</p><p>So if you send a pull request adding a plugin to aqua-registry, please check if aqua can support the plugin.
We aren&#x27;t necessarily familiar with the plugin, so please explain where the plugin expects to be installed and how the plugin works in the pull request description.</p><p>If you don&#x27;t know well, please create a pull request and consult us.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="note-of-programing-language-support">Note of Programing Language Support<a href="#note-of-programing-language-support" class="hash-link" aria-label="Direct link to Note of Programing Language Support" title="Direct link to Note of Programing Language Support">​</a></h2><p>aqua supports several programing languages such as Go and Node.js, but when we support a programing language, we need to be careful about where the programing language installs libraries and commands.</p><p>For instance, if the programing language installs commands in the same directory with the programing language itself, aqua can&#x27;t add them to $PATH, meaning we can&#x27;t execute them.
aqua doesn&#x27;t support changing $PATH dynamically (We have no plan to support it as it makes aqua more complicated).
Node.js&#x27;s <code>npm i -g</code> installs the same directory with node by default, so we gave up the support of Node.js before (Now aqua supports Node.js again because we can change the install path by <code>NPM_CONFIG_PREFIX</code>).
If the language installs libraries in the same directory with it, the language can&#x27;t refer installed libraries when we change the version of the language.</p><p>So before supporting a programing language, we should consider carefully if it really works well.
Many programing languages have dedicated version managers, so maybe they are more appropriate.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="commit-signing">Commit Signing<a href="#commit-signing" class="hash-link" aria-label="Direct link to Commit Signing" title="Direct link to Commit Signing">​</a></h2><p>All commits of pull requests must be signed.
Please see <a href="https://github.com/suzuki-shunsuke/oss-contribution-guide/blob/main/docs/commit-signing.md" target="_blank" rel="noopener noreferrer">the document</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up">Set up<a href="#set-up" class="hash-link" aria-label="Direct link to Set up" title="Direct link to Set up">​</a></h2><ol><li><a href="https://github.com/aquaproj/aqua-registry/fork" target="_blank" rel="noopener noreferrer">Please fork aquaproj/aqua-registry</a>.</li><li>Checkout the repository</li><li>Run <code>aqua i -l</code> in the repository root directory to install tools which are required for contribution.</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua i -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure-of-aqua-registry">Structure of aqua-registry<a href="#structure-of-aqua-registry" class="hash-link" aria-label="Direct link to Structure of aqua-registry" title="Direct link to Structure of aqua-registry">​</a></h2><p>Package-related code is located in the <code>pkgs/&lt;package name&gt;</code> directory of <a href="https://github.com/aquaproj/aqua-registry" target="_blank" rel="noopener noreferrer">https://github.com/aquaproj/aqua-registry</a>.
e.g. <a href="https://github.com/aquaproj/aqua-registry/tree/main/pkgs/cli/cli" target="_blank" rel="noopener noreferrer">cli/cli</a>
Each package directory contains the following files:</p><ul><li>pkg.yaml: List of versions installed during testing. This is essentially test data</li><li>registry.yaml: Configuration. Each tool&#x27;s registry.yaml is merged to generate the repository root registry.yaml</li><li>scaffold.yaml: Optional. Configuration file for commands that auto-generate pkg.yaml and registry.yaml. Required when you want to change the auto-generation behavior</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>pkg.yaml is just test data. You can install versions not included in this file.</p></div></div><p>There is also a registry.yaml at the repository root, which is a huge YAML file merging all registry.yaml files under <code>pkgs</code>.
When specifying Standard Registry in aqua.yaml, this repository root registry.yaml is referenced.
To modify the repository root registry.yaml, modify the registry.yaml under pkgs and run the <code>cmdx gr</code> command.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="registryyaml-documentation">registry.yaml Documentation<a href="#registryyaml-documentation" class="hash-link" aria-label="Direct link to registry.yaml Documentation" title="Direct link to registry.yaml Documentation">​</a></h2><p>Please refer to <a href="/docs/reference/registry-config/">Registry Config</a>.
There is also a <a href="https://github.com/aquaproj/aqua/blob/main/json-schema/registry.json" target="_blank" rel="noopener noreferrer">JSON Schema</a>.
The registry.yaml files under pkgs have JSON Schema comments, so VSCode and similar editors can provide auto-completion.</p><p>Additionally, there are abundant examples under pkgs in aqua-registry.
By grepping here, you can see how much each configuration item is used and how to write them for reference.</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Search with slsa_provenance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git grep -l slsa_provenance pkgs  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkgs/Zxilly/go-size-analyzer/registry.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkgs/aquaproj/aqua-registry-updater/registry.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkgs/aquaproj/example-go-slsa-provenance/registry.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-tools">Development Tools<a href="#development-tools" class="hash-link" aria-label="Direct link to Development Tools" title="Direct link to Development Tools">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Unfortunately, the current development tools depend on Shell Scripts and are unlikely to work on Windows (though they probably work on WSL).
<a href="https://github.com/aquaproj/aqua-registry/issues/32699" target="_blank" rel="noopener noreferrer">There is an issue to rewrite them in Go.</a></p></div></div><p>CLIs for developing aqua-registry are provided.
These can be installed with aqua.
Check out aqua-registry and run <code>aqua i -l</code>.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua i -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We use a task runner called <a href="https://github.com/suzuki-shunsuke/cmdx" target="_blank" rel="noopener noreferrer">cmdx</a>.
You can check tasks with <code>cmdx help</code>.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Using development tools, you can generate files for each package (pkg.yaml, registry.yaml, scaffold.yaml) and test tool installation in containers.
Tests are performed in containers using the docker command, so you need the docker command and a compatible container engine.
Docker Desktop would work fine of course.
We install <a href="https://github.com/docker/cli" target="_blank" rel="noopener noreferrer">docker/cli</a> and <a href="https://github.com/abiosoft/colima" target="_blank" rel="noopener noreferrer">abiosoft/colima</a> with aqua.
Please confirm that the docker command works.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker version</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-s---scaffold-configuration-and-test-it-in-containers">cmdx s - Scaffold configuration and test it in containers<a href="#cmdx-s---scaffold-configuration-and-test-it-in-containers" class="hash-link" aria-label="Direct link to cmdx s - Scaffold configuration and test it in containers" title="Direct link to cmdx s - Scaffold configuration and test it in containers">​</a></h3><p><code>cmdx s &lt;package name&gt;</code> generates a configuration file <code>pkgs/&lt;package name&gt;/registry.yaml</code> and a test data file <code>pkgs/&lt;package name&gt;/pkg.yaml</code>, and tests them in containers.
It gets data from GitHub Releases by GitHub API.
By default, it gets all releases, so it takes a bit long time if the repository has a lot of releases.
<a href="#use-cmdx-s-definitely"><code>cmdx s</code> isn&#x27;t perfect, but you must use it when you add new packages.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-t---test-a-package-in-containers">cmdx t - Test a package in containers<a href="#cmdx-t---test-a-package-in-containers" class="hash-link" aria-label="Direct link to cmdx t - Test a package in containers" title="Direct link to cmdx t - Test a package in containers">​</a></h3><p><code>cmdx t [&lt;package name&gt;]</code> tests a package in containers.
If the branch name is <code>feat/&lt;package name&gt;</code>, you can omit the argument <code>&lt;package name&gt;</code>.
<code>cmdx t</code> copies files <code>pkgs/&lt;package name&gt;/{pkg.yaml,registry.yaml}</code> in containers and test them.
If the test succeeds, <code>registry.yaml</code> is updated.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-rm---remove-containers">cmdx rm - Remove containers<a href="#cmdx-rm---remove-containers" class="hash-link" aria-label="Direct link to cmdx rm - Remove containers" title="Direct link to cmdx rm - Remove containers">​</a></h3><p><code>cmdx rm</code> removes containers.
<code>cmdx s</code> and <code>cmdx t</code> reuse containers, but if you want to test packages in clean environment, you can do it by removing containers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-rmp---remove-an-installed-package-from-containers">cmdx rmp - Remove an installed package from containers<a href="#cmdx-rmp---remove-an-installed-package-from-containers" class="hash-link" aria-label="Direct link to cmdx rmp - Remove an installed package from containers" title="Direct link to cmdx rmp - Remove an installed package from containers">​</a></h3><p><code>cmdx rmp [&lt;package name&gt;]</code> removes an installed package from containers.
If the branch name is <code>feat/&lt;package name&gt;</code>, you can omit the argument <code>&lt;package name&gt;</code>.
It runs <code>aqua rm &lt;package name&gt;</code> and removes <code>aqua-checksums.json</code> in containers.
This task is useful when you want to test packages in clean environment.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-gr---update-registryyaml">cmdx gr - Update <code>registry.yaml</code><a href="#cmdx-gr---update-registryyaml" class="hash-link" aria-label="Direct link to cmdx-gr---update-registryyaml" title="Direct link to cmdx-gr---update-registryyaml">​</a></h3><p><code>cmdx gr</code> merges <code>pkgs/**/registry.yaml</code> and updates <a href="https://github.com/aquaproj/aqua-registry/blob/main/registry.yaml" target="_blank" rel="noopener noreferrer">registry.yaml</a>.
Please don&#x27;t edit <a href="https://github.com/aquaproj/aqua-registry/blob/main/registry.yaml" target="_blank" rel="noopener noreferrer">registry.yaml</a> directly.
When you edit <code>pkgs/**/registry.yaml</code>, please run <code>cmdx gr</code> to reflect the update to <code>registry.yaml</code> in the repository.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-con---connect-to-a-container">cmdx con - Connect to a container<a href="#cmdx-con---connect-to-a-container" class="hash-link" aria-label="Direct link to cmdx con - Connect to a container" title="Direct link to cmdx con - Connect to a container">​</a></h3><p><code>cmdx con [&lt;os&gt;] [&lt;arch&gt;]</code> connect to a given container.
<code>cmdx s</code> and <code>cmdx t</code> tests packages in containers.
<code>cmdx con</code> is useful to look into the trouble in containers.
By default, <code>&lt;os&gt;</code> is <code>linux</code> and <code>&lt;arch&gt;</code> is CPU architecture of your machine.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="code-auto-generation">Code Auto-generation<a href="#code-auto-generation" class="hash-link" aria-label="Direct link to Code Auto-generation" title="Direct link to Code Auto-generation">​</a></h2><p>Writing configuration files for each package from scratch is difficult and has quality issues.
Therefore, commands for auto-generating code are provided.
When adding a new package, always use this command.
Code written manually from scratch is not quality assured, so Pull Requests will not be accepted.
However, code auto-generation is not perfect and often generates incomplete code.
In that case, you need to manually fix the generated code.</p><p>aqua supports various package types, but currently auto-generation mainly supports only <code>github_release</code> and <code>cargo</code>.
When generating code for other packages like <code>http</code> package, specify <code>-l 1</code> to generate only a template and write the rest manually.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx s -l 1 &quot;&lt;package name&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="github-access-token">GitHub Access Token<a href="#github-access-token" class="hash-link" aria-label="Direct link to GitHub Access Token" title="Direct link to GitHub Access Token">​</a></h2><p>Development tools execute GitHub API to get lists of GitHub Releases and assets.
It works without an access token, but the possibility of hitting API rate limits increases.
Hitting API rate limits can prevent normal code generation or cause tests to fail.
You can pass an access token through environment variables <code>GITHUB_TOKEN</code> or <code>AQUA_GITHUB_TOKEN</code>.
If these environment variables are not set, it will try to get an access token using the <code>gh auth token</code> command.
No special permissions are needed as it only reads public repository resources.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="do-not-change-the-source-of-existing-packages-to-a-fork">Do Not Change the Source of Existing Packages to a Fork<a href="#do-not-change-the-source-of-existing-packages-to-a-fork" class="hash-link" aria-label="Direct link to Do Not Change the Source of Existing Packages to a Fork" title="Direct link to Do Not Change the Source of Existing Packages to a Fork">​</a></h2><p>Even if maintenance of an existing package’s source has stalled or the repository has been archived, <strong>do not change the package source to point to a fork</strong>.
Instead, create a <strong>new package</strong> that points to the forked source.</p><p>For example, development of <a href="https://github.com/99designs/aws-vault" target="_blank" rel="noopener noreferrer">99designs/aws-vault</a> has slowed down, and a fork, <a href="https://github.com/ByteNess/aws-vault" target="_blank" rel="noopener noreferrer">ByteNess/aws-vault</a>, was created.
<a href="https://github.com/Homebrew/homebrew-core/pull/226185" target="_blank" rel="noopener noreferrer">Homebrew switched to using the forked repository</a>, but in the aqua registry, we decided to keep the original package as-is and add a new package instead.</p><ul><li><a href="https://github.com/99designs/aws-vault/issues/1269" target="_blank" rel="noopener noreferrer">https://github.com/99designs/aws-vault/issues/1269</a></li><li><a href="https://github.com/aquaproj/aqua-registry/pull/45430" target="_blank" rel="noopener noreferrer">https://github.com/aquaproj/aqua-registry/pull/45430</a></li></ul><p>This is to prevent the maintainer of a package’s source from changing without users’ knowledge.
Whether or not to switch to a fork should be a decision made by users, not by the maintainers of the aqua registry.
By adding a new package, users can explicitly choose to switch packages themselves.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-existing-packages">Modifying Existing Packages<a href="#modifying-existing-packages" class="hash-link" aria-label="Direct link to Modifying Existing Packages" title="Direct link to Modifying Existing Packages">​</a></h2><p>When modifying existing packages, you need to modify code under <code>pkgs/&lt;package name&gt;</code>.
There are several modification methods:</p><ol><li>Manually modify the code</li><li>Regenerate the code from scratch with commands</li><li>Auto-generate code for the latest version and manually modify based on that</li></ol><p>Which method to use depends on the state of the original code.
Code auto-generation has been improved many times.
Therefore, there is low-quality code generated before improvements.
Such code may be better regenerated from scratch rather than manually fixed.</p><p>One characteristic to identify if code is old is how <code>version_constraint</code> and <code>version_overrides</code> are written.
In the new style, it basically looks like this:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version_constraint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;false&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Root version_constraint is &quot;false&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">version_overrides</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">version_constraint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> semver(&quot;&lt;= 0.1.0&quot;) </span><span class="token comment" style="color:#999988;font-style:italic"># Version constraints use &lt;, &lt;= not &gt;, &gt;= (basically &lt;=)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">version_constraint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># End with &quot;true&quot; for latest version configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the old style, <code>version_overrides</code> is often not defined.
In this case, it&#x27;s likely better to regenerate from scratch.
However, as mentioned earlier, auto-generation doesn&#x27;t support package types other than <code>github_release</code> or <code>cargo</code>, so manual modification will be necessary.</p><p>Also, <a href="https://aquaproj.github.io/docs/reference/registry-config/aliases" target="_blank" rel="noopener noreferrer">aliases</a> and <a href="https://aquaproj.github.io/docs/reference/registry-config/files" target="_blank" rel="noopener noreferrer">files</a> cannot be auto-generated, so you need to modify the auto-generated code referring to the original code.</p><p><code>3. Auto-generate code for the latest version and manually modify based on that</code> is effective when the package no longer installs with the latest version but you want to reuse existing code (don&#x27;t want to regenerate from scratch).
Running the following command generates code for the latest version:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua gr -l 1 &quot;&lt;package name&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Fix this and add it to the end of <code>version_overrides</code> in the original code and modify version_constraint.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="manual-modification">Manual Modification<a href="#manual-modification" class="hash-link" aria-label="Direct link to Manual Modification" title="Direct link to Manual Modification">​</a></h2><p>When manual modification is necessary, you&#x27;ll need to look at error messages and fix appropriately.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-configuration-needs-to-change-for-specific-versions">When Configuration Needs to Change for Specific Versions<a href="#when-configuration-needs-to-change-for-specific-versions" class="hash-link" aria-label="Direct link to When Configuration Needs to Change for Specific Versions" title="Direct link to When Configuration Needs to Change for Specific Versions">​</a></h3><p>You can change configuration by version using <a href="/docs/reference/registry-config/version-overrides">version_overrides and version_constraint</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-configuration-needs-to-change-for-specific-osarch">When Configuration Needs to Change for Specific OS/Arch<a href="#when-configuration-needs-to-change-for-specific-osarch" class="hash-link" aria-label="Direct link to When Configuration Needs to Change for Specific OS/Arch" title="Direct link to When Configuration Needs to Change for Specific OS/Arch">​</a></h3><p>You can change configuration by OS/Arch with <a href="/docs/reference/registry-config/overrides">overrides</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-version-cannot-be-found">When Version Cannot Be Found<a href="#when-version-cannot-be-found" class="hash-link" aria-label="Direct link to When Version Cannot Be Found" title="Direct link to When Version Cannot Be Found">​</a></h3><p>Sometimes a released version is deleted and disappears.
In that case, delete that version from pkg.yaml.
And delete configuration related to that version from registry.yaml (if any).
However, <a href="/docs/reference/registry-config/no_asset">no_asset</a> and <a href="/docs/reference/registry-config/error_message">error_message</a> don&#x27;t need to be deleted.
You may or may not add <code>no_asset</code> and <code>error_message</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-asset-cannot-be-found">When Asset Cannot Be Found<a href="#when-asset-cannot-be-found" class="hash-link" aria-label="Direct link to When Asset Cannot Be Found" title="Direct link to When Asset Cannot Be Found">​</a></h3><p>When an asset cannot be found, either the asset name is wrong or the asset hasn&#x27;t been released.</p><p>Running the <code>cmdx lsa [-r &lt;repository name&gt;] &quot;&lt;version&gt;&quot;</code> command outputs a list of assets, which is convenient.</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cmdx lsa -repo suzuki-shunsuke/pinact v3.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ REPO=${REPO#https://github.com/}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">repo=$(bash scripts/get_test_pkg.sh &quot;$REPO&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gh release view --json assets --jq &quot;.assets[].name&quot; -R &quot;$repo&quot; &quot;$VERSION&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">multiple.intoto.jsonl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_3.0.0_checksums.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_3.0.0_checksums.txt.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_3.0.0_checksums.txt.sig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_darwin_amd64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_darwin_arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_linux_amd64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_linux_arm64.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_windows_amd64.zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pinact_windows_arm64.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It&#x27;s common for new GitHub Releases or tags to be released without assets being released.
When there are no assets, the following causes are possible:</p><ol><li>Release is simply delayed. It will be released if you wait</li><li>CI failed midway and wasn&#x27;t released</li><li>CI skipped the release</li></ol><p>These are not problems with aqua or aqua-registry.
For example, if such a problem occurs with <a href="https://github.com/suzuki-shunsuke/pinact" target="_blank" rel="noopener noreferrer">suzuki-shunsuke/pinact</a> and you want to take action, it would be good to create an issue or PR at <a href="https://github.com/suzuki-shunsuke/pinact" target="_blank" rel="noopener noreferrer">https://github.com/suzuki-shunsuke/pinact</a>.
As aqua-registry maintainers, we often encounter these problems.
Each time, we report problems to various repositories or fix CI.</p><p>It&#x27;s common for specific os/arch not to be supported.
In that case, you need to exclude that os/arch from <code>supported_envs</code>.</p><p>If the asset name is wrong, the asset naming convention may have changed from a certain version.
For example, the GoReleaser configuration was modified and the format became zip, or the version disappeared from the asset name, etc.
In that case, you need to modify the asset in registry.yaml.
If the name changed due to a mistake on the tool side, it would be kind to report the problem or create a PR to fix it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-command-cannot-be-found">When Command Cannot Be Found<a href="#when-command-cannot-be-found" class="hash-link" aria-label="Direct link to When Command Cannot Be Found" title="Direct link to When Command Cannot Be Found">​</a></h3><p>When a command cannot be found, the following possibilities exist:</p><ol><li>Command name is wrong</li><li>Command name changed</li><li>Path is wrong</li><li>Target os/arch is excluded by supported_envs</li></ol><p>In these cases, you need to modify the <code>files</code> configuration.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;command name</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">src</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;relative path to command executable</span><span class="token punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, the command name is the last element when splitting the package name by <code>/</code>.
So for <code>cli/cli</code> it becomes <code>cli</code>, but the actual command name is <code>gh</code>, so you need to explicitly specify <code>files</code>.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that even on Windows, <code>.exe</code> is not added to the name.</p><p><code>src</code> is the relative path where the command executable is located when extracting assets like tarball or zip.
By default, it&#x27;s the same as <code>name</code>.
For gh, since the path is different, you need to specify <code>src</code>.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">src</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gh_</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">trimV .Version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">.OS</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">.Arch</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/bin/gh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/aquaproj/aqua-registry/blob/dc98ca0c3314ae3cface74556a295a4cb0a95918/pkgs/cli/cli/registry.yaml#L7-L9" target="_blank" rel="noopener noreferrer">https://github.com/aquaproj/aqua-registry/blob/dc98ca0c3314ae3cface74556a295a4cb0a95918/pkgs/cli/cli/registry.yaml#L7-L9</a></p><p>The auto-generation tool currently cannot auto-generate <code>files</code>.
Therefore, manual modification is necessary.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-support-for-specific-os--architecture">Adding Support for Specific OS / Architecture<a href="#adding-support-for-specific-os--architecture" class="hash-link" aria-label="Direct link to Adding Support for Specific OS / Architecture" title="Direct link to Adding Support for Specific OS / Architecture">​</a></h3><p>Sometimes a tool supports new OS/Architecture from a specific version but it&#x27;s not reflected in registry.yaml and remains uninstallable.
In that case, you need to add that OS/Architecture to <code>supported_envs</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-checksum-cannot-be-extracted-from-checksum-file">When Checksum Cannot Be Extracted from Checksum File<a href="#when-checksum-cannot-be-extracted-from-checksum-file" class="hash-link" aria-label="Direct link to When Checksum Cannot Be Extracted from Checksum File" title="Direct link to When Checksum Cannot Be Extracted from Checksum File">​</a></h3><p>Please see <a href="/docs/reference/registry-config/checksum">the document</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-checksum-verification-fails">When Checksum Verification Fails<a href="#when-checksum-verification-fails" class="hash-link" aria-label="Direct link to When Checksum Verification Fails" title="Direct link to When Checksum Verification Fails">​</a></h3><p>Please see <a href="/docs/reference/registry-config/checksum">the document</a>.</p><ol><li>Checksum written in checksum file is wrong =&gt; Disable checksum</li></ol><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">checksum</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or delete the checksum configuration since it&#x27;s disabled by default.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The checksum enable/disable setting in registry configuration is just a setting for &quot;whether to download checksum file and get checksum&quot;.
Even if this is disabled, if checksum verification is enabled in aqua.yaml, checksum verification will be performed.
In that case, it actually downloads the asset, calculates the checksum, and records it in aqua-checksums.json.
There is also an issue for getting checksum via GitHub API.</p></div></div><ol start="2"><li>Extracting wrong string from checksum file</li></ol><p>Modify extraction parameters or disable checksum.</p><ol start="3"><li>Wrong checksum algorithm (sha1, sha256, sha512, md5, etc) =&gt; Fix the algorithm</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-cosign-verification-fails">When cosign Verification Fails<a href="#when-cosign-verification-fails" class="hash-link" aria-label="Direct link to When cosign Verification Fails" title="Direct link to When cosign Verification Fails">​</a></h3><p><a href="/docs/reference/registry-config/cosign">Please see the document</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-slsa-provenance-verification-fails">When SLSA Provenance Verification Fails<a href="#when-slsa-provenance-verification-fails" class="hash-link" aria-label="Direct link to When SLSA Provenance Verification Fails" title="Direct link to When SLSA Provenance Verification Fails">​</a></h3><p><a href="/docs/reference/registry-config/slsa-provenance">Please see the document</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-github-artifact-attestations-verification-fails">When GitHub Artifact Attestations Verification Fails<a href="#when-github-artifact-attestations-verification-fails" class="hash-link" aria-label="Direct link to When GitHub Artifact Attestations Verification Fails" title="Direct link to When GitHub Artifact Attestations Verification Fails">​</a></h3><p><a href="/docs/reference/registry-config/github-artifact-attestations">Please see the document</a>.</p><p><code>signer_workflow</code> might be wrong.
If attestations are not generated for a specific version in the first place, delete the github_artifact_attestations configuration.</p><p>The github_artifact_attestations configuration cannot be auto-generated currently.
Therefore, when adding a new tool, check if attestations are generated and add the configuration if they are.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-minisign-verification-fails">When Minisign Verification Fails<a href="#when-minisign-verification-fails" class="hash-link" aria-label="Direct link to When Minisign Verification Fails" title="Direct link to When Minisign Verification Fails">​</a></h3><p><a href="/docs/reference/registry-config/minisign">Please see the document</a>.</p><p>The minisign configuration might be wrong.
If minisign signing is not performed for a specific version in the first place, delete the minisign configuration.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tool-naming-convention">Tool Naming Convention<a href="#tool-naming-convention" class="hash-link" aria-label="Direct link to Tool Naming Convention" title="Direct link to Tool Naming Convention">​</a></h2><p>To avoid name conflicts, tool names must include <code>/</code> (namespace-like meaning).</p><ul><li>NG: <code>terraform</code></li><li>OK: <code>hashicorp/terraform</code></li></ul><p>If the tool code is managed on GitHub, match the repository name.
If multiple tools are managed in that repository, change the name for each tool.</p><p>e.g. <a href="https://github.com/winebarrel/cronplan" target="_blank" rel="noopener noreferrer">winebarrel/cronplan</a></p><ul><li><code>winebarrel/cronplan/cronmatch</code></li><li><code>winebarrel/cronplan/cronplan</code></li><li><code>winebarrel/cronplan/cronviz</code></li></ul><p>Packages hosted outside GitHub should have naming that distinguishes them from GitHub.
<code>cargo</code> packages become <a href="https://github.com/aquaproj/aqua-registry/tree/main/pkgs/crates.io" target="_blank" rel="noopener noreferrer">crates.io/{crate name}</a>.
Platforms other than GitHub like GitLab are not actively supported, but some are supported as http type packages.
<a href="https://github.com/aquaproj/aqua-registry/tree/main/pkgs/gitlab.com" target="_blank" rel="noopener noreferrer">GitLab uses <code>gitlab.com/&lt;repository name&gt;</code>.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-new-tools">Adding New Tools<a href="#adding-new-tools" class="hash-link" aria-label="Direct link to Adding New Tools" title="Direct link to Adding New Tools">​</a></h2><p>When submitting a Pull Request to add a new tool, there&#x27;s no need to create an Issue.</p><p>Run <code>cmdx s</code> to auto-generate code.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx s &quot;&lt;tool name&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>e.g.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx s cli/cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For package types other than github_release, specify <code>-l 1</code>.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx s -l 1 &quot;&lt;package name&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>cmdx s generates a branch <code>feat/&lt;package name&gt;</code>, code, and commit, and tests using containers.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p><code>cmdx s</code> creates a commit, but please don&#x27;t edit the commit by <code>git commit --amend</code>, <code>git rebase</code>, or somehow.
<code>cmdx s</code> creates a commit to distinguish scaffolded code from manual changes.
Please add new commits if you update code.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>This command may sometimes fail tests and output a large amount of error messages, but don&#x27;t be overwhelmed by those error messages.
Test failures are expected.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customizing-cmdx-s-with-configuration-file">Customizing cmdx s with Configuration File<a href="#customizing-cmdx-s-with-configuration-file" class="hash-link" aria-label="Direct link to Customizing cmdx s with Configuration File" title="Direct link to Customizing cmdx s with Configuration File">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In many cases, this is unnecessary.
Also, you should not use this feature carelessly.</p></div></div><p>Sometimes <code>cmdx s</code> generation doesn&#x27;t work in one go.
For github_release packages, <code>cmdx s</code> gets lists of GitHub Releases and assets via GitHub API and auto-generates configuration based on that.
However, sometimes you need to exclude specific versions or assets.
For example, if multiple CLIs are published in the same repository, if you don&#x27;t exclude assets from other CLIs, code might be generated based on asset names from other CLIs.
Also, if multiple tools are published in the same repository, versions might have different prefixes for different tools.
In that case, if you don&#x27;t ignore versions from other tools, code likely won&#x27;t be generated correctly.</p><p>In such cases, follow these steps:</p><ol><li>Generate a template configuration file <code>aqua-generate-registry.yaml</code> for <code>cmdx s</code> with <code>aqua gr -init &lt;package name&gt;</code></li><li>Modify the configuration file <code>aqua-generate-registry.yaml</code></li><li>Generate code with <code>cmdx s -c &quot;&lt;configuration file&gt;&quot; &quot;&lt;package name&gt;&quot;</code></li></ol><p>You can configure the following:</p><ul><li><code>version_filter</code>: Versions not matching this condition are excluded</li><li><code>version_prefix</code>: Versions without this prefix are excluded</li><li><code>all_assets_filter</code>: Assets not matching this condition are excluded</li></ul><p>However, using this feature carelessly can exclude things that shouldn&#x27;t be excluded, so it shouldn&#x27;t be used lightly.
<code>all_assets_filter</code> in particular requires caution. This is because it can accidentally exclude checksum files like <code>SHA256SUM</code> or <code>checksums.txt</code>, and it&#x27;s difficult to notice if you&#x27;ve excluded them.
Therefore, you should first generate code without exclusion settings, and if unnecessary things are mixed in the generated code, write settings that explicitly exclude only those (without making the scope too broad to avoid excluding extra things).</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Note that <code>version_filter</code> is not a feature for dropping support for old versions.
<code>version_constraint</code>, <code>no_asset</code>, and <code>error_message</code> are used for dropping support for old versions.</p><p><a href="https://github.com/aquaproj/aqua-registry/blob/191f2136c10b1eb962dd43c8f421af417b1b3a16/pkgs/Shopify/ejson/registry.yaml#L8-L10" target="_blank" rel="noopener noreferrer">https://github.com/aquaproj/aqua-registry/blob/191f2136c10b1eb962dd43c8f421af417b1b3a16/pkgs/Shopify/ejson/registry.yaml#L8-L10</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrying-cmdx-s-until-it-works">Retrying <code>cmdx s</code> Until It Works<a href="#retrying-cmdx-s-until-it-works" class="hash-link" aria-label="Direct link to retrying-cmdx-s-until-it-works" title="Direct link to retrying-cmdx-s-until-it-works">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In many cases, this is unnecessary.</p></div></div><p>As mentioned earlier, code generation with <code>cmdx s</code> doesn&#x27;t always work on the first try.
Sometimes you need to repeat it several times.</p><ol><li>Generate code without configuration file <code>cmdx s</code></li><li>Check the generated code, and if extra versions or assets are included, delete the generated branch</li></ol><p><code>cmdx s</code> generates a branch and commit, but if it&#x27;s before opening a Pull Request, you can delete them without problems.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git branch -D &quot;feat/&lt;package name&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Generate configuration file <code>aqua gr -init</code></li><li>Modify configuration file and generate code <code>cmdx s</code></li><li>Repeat 2, 4 until extra versions and assets are excluded</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-manually">Modifying Manually<a href="#modifying-manually" class="hash-link" aria-label="Direct link to Modifying Manually" title="Direct link to Modifying Manually">​</a></h3><p>If installation of multiple versions is failing and the log is hard to read, it&#x27;s good to comment out some versions in pkg.yaml and tackle problems one by one.
When modifying configuration, refer to <a href="#manual-modification">Manual Modification</a> and <a href="/docs/develop-registry/registry-style-guide/">Style Guide</a>.
After modification, run <code>cmdx t</code> to confirm it can be installed correctly.
Repeat modification and confirmation until it can be installed.</p><p>When you&#x27;re done with modifications, or if you&#x27;re not sure how to fix it, submit a Pull Request.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The <code>cmdx new</code> command has been removed from the standard procedure.
However, the command itself remains and can still be used.
This command has large environment dependencies and didn&#x27;t work well for some users, making troubleshooting and support difficult.
Since you can create Pull Requests without using <code>cmdx new</code>, we decided to remove it from the standard procedure.
<a href="/docs/products/aqua-registry/changelog#why-did-we-remove-cmdx-new-from-the-guide">See also changelog.</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-cmdx-s-definitely">Use <code>cmdx s</code> definitely<a href="#use-cmdx-s-definitely" class="hash-link" aria-label="Direct link to use-cmdx-s-definitely" title="Direct link to use-cmdx-s-definitely">​</a></h3><p>We don&#x27;t accept pull requests not following this guide.
Especially, we don&#x27;t accept pull requests not using <code>cmdx s</code>.
Standard Registry must support not only the latest version but also almost all versions and <a href="#supported-os-and-cpu-architecture">various platforms</a>.
Many tools have so many versions that people can&#x27;t check all of them manually.
So we can&#x27;t trust the code not using <code>cmdx s</code>.
<code>cmdx s</code> checks all GitHub Releases and generates code supporting all of them (Strictly speaking, if there are too many GitHub Releases we have to restrict the number of GitHub Releases, though <code>cmdx s</code> can still check over 200 versions).
<code>cmdx s</code> generates much better code than us.</p><p><code>cmdx s</code> isn&#x27;t perfect and sometimes <code>cmdx s</code> causes errors and generates invalid code.
Then you have to fix the code according to the error message.
<code>cmdx s</code> supports only <code>github_release</code> type packages, so for other package types you have to fix the code.
Even if so, you must still use <code>cmdx s</code>.
<code>cmdx s</code> guarantees the quality of code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-how-to-ignore-some-assets-and-versions">💡 How to ignore some assets and versions<a href="#-how-to-ignore-some-assets-and-versions" class="hash-link" aria-label="Direct link to 💡 How to ignore some assets and versions" title="Direct link to 💡 How to ignore some assets and versions">​</a></h3><p>You can ignore some assets and versions to scaffold better configuration files.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Be careful to use this feature as it may exclude assets and versions unexpectedly.
Especially, <code>all_assets_filter</code> may exclude assets such as checksum files.
We recommend to scaffold codes without this feature first.
Then if <code>cmdx s</code> can&#x27;t scaffold good codes due to some noisy versions or assets, you should re-scaffold code using this feature.
About <code>all_assets_filter</code>, we recommend specifying patterns to exclude assets (deny list) rather than specifying patterns to include assets (allow list).</p><p>e.g.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">all_assets_filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> not (Asset contains &quot;static&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><ol><li>Create <code>aqua-generate-registry.yaml</code> by <code>aqua gr --init</code> command:</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua gr --init &lt;package name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>Edit <code>aqua-generate-registry.yaml</code>:</li></ol><p>Example 1. Filter assets:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> argoproj/argo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rollouts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">all_assets_filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> not ((Asset matches &quot;rollouts</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller&quot;) or (Asset matches &quot;rollout</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">controller&quot;))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example 2. Filter versions by <code>version_prefix</code>:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> grpc/grpc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">go/protoc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gen</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">go</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">grpc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version_prefix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cmd/protoc</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gen</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">go</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">grpc/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example 3. Filter versions by <code>version_filter</code>:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> crate</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ci/typos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">version_filter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> not (Version startsWith &quot;varcon</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Run <code>cmdx s</code> with <code>aqua-generate-registry.yaml</code></li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cmdx s -c aqua-generate-registry.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-execute-a-package-in-your-machine-during-development">How to execute a package in your machine during development<a href="#how-to-execute-a-package-in-your-machine-during-development" class="hash-link" aria-label="Direct link to How to execute a package in your machine during development" title="Direct link to How to execute a package in your machine during development">​</a></h3><p>There are several ways</p><ol><li>Execute a package in linux containers via <code>cmdx con</code></li><li>Import <code>pkgs/&lt;package&gt;/pkg.yaml</code> in <a href="https://github.com/aquaproj/aqua-registry/blob/main/aqua.yaml" target="_blank" rel="noopener noreferrer">aqua.yaml</a></li><li>Add <a href="https://github.com/aquaproj/aqua-registry/blob/main/aqua-all.yaml" target="_blank" rel="noopener noreferrer">aqua-all.yaml</a> in <code>$AQUA_GLOBAL_CONFIG</code></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-execute-a-package-in-linux-containers-via-cmdx-con">1. Execute a package in linux containers via <code>cmdx con</code><a href="#1-execute-a-package-in-linux-containers-via-cmdx-con" class="hash-link" aria-label="Direct link to 1-execute-a-package-in-linux-containers-via-cmdx-con" title="Direct link to 1-execute-a-package-in-linux-containers-via-cmdx-con">​</a></h4><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cmdx con</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ bash scripts/connect.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[INFO] Connecting to the container aqua-registry (linux/arm64)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can execute a package in the container.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-import-pkgspackagepkgyaml-in-aquayaml">2. Import <code>pkgs/&lt;package&gt;/pkg.yaml</code> in aqua.yaml<a href="#2-import-pkgspackagepkgyaml-in-aquayaml" class="hash-link" aria-label="Direct link to 2-import-pkgspackagepkgyaml-in-aquayaml" title="Direct link to 2-import-pkgspackagepkgyaml-in-aquayaml">​</a></h4><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">packages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">import</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pkgs/&lt;package</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain">/pkg.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Please don&#x27;t commit this change.</p><p>You need to run <code>aqua policy allow</code> to use the local registry.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua policy allow</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can execute the package.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-add-aqua-allyaml-in-aqua_global_config">3. Add aqua-all.yaml in <code>$AQUA_GLOBAL_CONFIG</code><a href="#3-add-aqua-allyaml-in-aqua_global_config" class="hash-link" aria-label="Direct link to 3-add-aqua-allyaml-in-aqua_global_config" title="Direct link to 3-add-aqua-allyaml-in-aqua_global_config">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export AQUA_GLOBAL_CONFIG=$PWD/aqua-all.yaml:$AQUA_GLOBAL_CONFIG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You need to run <code>aqua policy allow</code> to use the local registry.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aqua policy allow</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can execute all packages.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-os-and-cpu-architecture">Supported OS and CPU Architecture<a href="#supported-os-and-cpu-architecture" class="hash-link" aria-label="Direct link to Supported OS and CPU Architecture" title="Direct link to Supported OS and CPU Architecture">​</a></h2><p>Please consider the following OS and CPU Architecture.</p><ul><li>OS<ul><li>windows</li><li>darwin</li><li>linux</li></ul></li><li>CPU Architecture<ul><li>amd64</li><li>arm64</li></ul></li></ul><p>We test the registry in CI on the above environments by GitHub Actions&#x27; build matrix.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-multiple-versions">Test multiple versions<a href="#test-multiple-versions" class="hash-link" aria-label="Direct link to Test multiple versions" title="Direct link to Test multiple versions">​</a></h2><p>If the package has the field <a href="/docs/reference/registry-config/version-overrides">version_overrides</a>,
please add not only the latest version but also old versions in <code>pkg.yaml</code> to test if old versions can be installed properly.</p><p>e.g. <a href="https://github.com/aquaproj/aqua-registry/blob/main/pkgs/scaleway/scaleway-cli/pkg.yaml" target="_blank" rel="noopener noreferrer">pkg.yaml</a> <a href="https://github.com/aquaproj/aqua-registry/blob/main/pkgs/scaleway/scaleway-cli/registry.yaml" target="_blank" rel="noopener noreferrer">registry.yaml</a></p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">packages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scaleway/scaleway</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli@v2.12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scaleway/scaleway</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v2.4.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>⚠️ Don&#x27;t use the short syntax <code>&lt;package name&gt;@&lt;version&gt;</code> for the old version to prevent Renovate from updating the old version.</p><p>👎</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">packages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scaleway/scaleway</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli@v2.12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scaleway/scaleway</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cli@v2.12.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-pkgspkgyaml-for">What&#x27;s pkgs/**/pkg.yaml for?<a href="#whats-pkgspkgyaml-for" class="hash-link" aria-label="Direct link to What&#x27;s pkgs/**/pkg.yaml for?" title="Direct link to What&#x27;s pkgs/**/pkg.yaml for?">​</a></h2><p><code>pkgs/**/pkg.yaml</code> are test data.
<code>pkgs/**/pkg.yaml</code> are used to test if packages can be installed properly.</p><p>Note that <code>pkgs/**/pkg.yaml</code> aren&#x27;t lists of available versions.
You can install any versions not listed in <code>pkgs/**/pkg.yaml</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trouble-shooting">Trouble shooting<a href="#trouble-shooting" class="hash-link" aria-label="Direct link to Trouble shooting" title="Direct link to Trouble shooting">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmdx-new-fails-to-push-a-commit-to-the-origin"><code>cmdx new</code> fails to push a commit to the origin<a href="#cmdx-new-fails-to-push-a-commit-to-the-origin" class="hash-link" aria-label="Direct link to cmdx-new-fails-to-push-a-commit-to-the-origin" title="Direct link to cmdx-new-fails-to-push-a-commit-to-the-origin">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>We removed <code>cmdx new</code> from the guide.
You can still use <code>cmdx new</code>, but if you have any trouble with <code>cmdx new</code>, you can create a pull request without <code>cmdx new</code>.
<a href="/docs/products/aqua-registry/changelog#why-did-we-remove-cmdx-new-from-the-guide">Please see the changelog for details.</a></p></div></div><p>If <code>cmdx new</code> can&#x27;t push a commit to a remote branch, please confirm if <code>origin</code> is not the upstream <code>aquaproj/aqua-registry</code> but your fork.
If <code>origin</code> is not your fork, please change it to your fork.</p><p>e.g. Fail to push a commit</p><div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ cmdx new pre-commit/pre-commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+ git push origin feat/pre-commit/pre-commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remote: Permission to aquaproj/aqua-registry.git denied to ***.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fatal: unable to access &#x27;https://github.com/aquaproj/aqua-registry/&#x27;: The requested URL returned error: 403</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><a href="https://github.com/aquaproj/aqua-registry/fork" target="_blank" rel="noopener noreferrer">If you haven&#x27;t forked aquaproj/aqua-registry, please fork it</a>.</li><li>Check remote repositories.</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git remote -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>Please fix <code>origin</code>.</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git remote set-url origin https://github.com/&lt;your fork&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>Please set <code>upstream</code> if necessary.</li></ol><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git remote add upstream https://github.com/aquaproj/aqua-registry</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/aquaproj/aquaproj.github.io/edit/main/docs/products/aqua-registry/contributing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/products/aqua-registry/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">aqua-registry</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/products/aqua-registry/changelog"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Changelog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#see-also" class="table-of-contents__link toc-highlight">See also</a></li><li><a href="#changelog-of-document-and-development-workflow" class="table-of-contents__link toc-highlight">Changelog of document and development workflow</a></li><li><a href="#should-you-create-an-issue-before-sending-a-pull-request" class="table-of-contents__link toc-highlight">Should you create an Issue before sending a Pull Request?</a></li><li><a href="#aqua-cant-support-some-tools-plugin-mechanism" class="table-of-contents__link toc-highlight">aqua can&#39;t support some tools&#39; plugin mechanism</a></li><li><a href="#note-of-programing-language-support" class="table-of-contents__link toc-highlight">Note of Programing Language Support</a></li><li><a href="#commit-signing" class="table-of-contents__link toc-highlight">Commit Signing</a></li><li><a href="#set-up" class="table-of-contents__link toc-highlight">Set up</a></li><li><a href="#structure-of-aqua-registry" class="table-of-contents__link toc-highlight">Structure of aqua-registry</a></li><li><a href="#registryyaml-documentation" class="table-of-contents__link toc-highlight">registry.yaml Documentation</a></li><li><a href="#development-tools" class="table-of-contents__link toc-highlight">Development Tools</a><ul><li><a href="#cmdx-s---scaffold-configuration-and-test-it-in-containers" class="table-of-contents__link toc-highlight">cmdx s - Scaffold configuration and test it in containers</a></li><li><a href="#cmdx-t---test-a-package-in-containers" class="table-of-contents__link toc-highlight">cmdx t - Test a package in containers</a></li><li><a href="#cmdx-rm---remove-containers" class="table-of-contents__link toc-highlight">cmdx rm - Remove containers</a></li><li><a href="#cmdx-rmp---remove-an-installed-package-from-containers" class="table-of-contents__link toc-highlight">cmdx rmp - Remove an installed package from containers</a></li><li><a href="#cmdx-gr---update-registryyaml" class="table-of-contents__link toc-highlight">cmdx gr - Update <code>registry.yaml</code></a></li><li><a href="#cmdx-con---connect-to-a-container" class="table-of-contents__link toc-highlight">cmdx con - Connect to a container</a></li></ul></li><li><a href="#code-auto-generation" class="table-of-contents__link toc-highlight">Code Auto-generation</a></li><li><a href="#github-access-token" class="table-of-contents__link toc-highlight">GitHub Access Token</a></li><li><a href="#do-not-change-the-source-of-existing-packages-to-a-fork" class="table-of-contents__link toc-highlight">Do Not Change the Source of Existing Packages to a Fork</a></li><li><a href="#modifying-existing-packages" class="table-of-contents__link toc-highlight">Modifying Existing Packages</a></li><li><a href="#manual-modification" class="table-of-contents__link toc-highlight">Manual Modification</a><ul><li><a href="#when-configuration-needs-to-change-for-specific-versions" class="table-of-contents__link toc-highlight">When Configuration Needs to Change for Specific Versions</a></li><li><a href="#when-configuration-needs-to-change-for-specific-osarch" class="table-of-contents__link toc-highlight">When Configuration Needs to Change for Specific OS/Arch</a></li><li><a href="#when-version-cannot-be-found" class="table-of-contents__link toc-highlight">When Version Cannot Be Found</a></li><li><a href="#when-asset-cannot-be-found" class="table-of-contents__link toc-highlight">When Asset Cannot Be Found</a></li><li><a href="#when-command-cannot-be-found" class="table-of-contents__link toc-highlight">When Command Cannot Be Found</a></li><li><a href="#adding-support-for-specific-os--architecture" class="table-of-contents__link toc-highlight">Adding Support for Specific OS / Architecture</a></li><li><a href="#when-checksum-cannot-be-extracted-from-checksum-file" class="table-of-contents__link toc-highlight">When Checksum Cannot Be Extracted from Checksum File</a></li><li><a href="#when-checksum-verification-fails" class="table-of-contents__link toc-highlight">When Checksum Verification Fails</a></li><li><a href="#when-cosign-verification-fails" class="table-of-contents__link toc-highlight">When cosign Verification Fails</a></li><li><a href="#when-slsa-provenance-verification-fails" class="table-of-contents__link toc-highlight">When SLSA Provenance Verification Fails</a></li><li><a href="#when-github-artifact-attestations-verification-fails" class="table-of-contents__link toc-highlight">When GitHub Artifact Attestations Verification Fails</a></li><li><a href="#when-minisign-verification-fails" class="table-of-contents__link toc-highlight">When Minisign Verification Fails</a></li></ul></li><li><a href="#tool-naming-convention" class="table-of-contents__link toc-highlight">Tool Naming Convention</a></li><li><a href="#adding-new-tools" class="table-of-contents__link toc-highlight">Adding New Tools</a><ul><li><a href="#customizing-cmdx-s-with-configuration-file" class="table-of-contents__link toc-highlight">Customizing cmdx s with Configuration File</a></li><li><a href="#retrying-cmdx-s-until-it-works" class="table-of-contents__link toc-highlight">Retrying <code>cmdx s</code> Until It Works</a></li><li><a href="#modifying-manually" class="table-of-contents__link toc-highlight">Modifying Manually</a></li><li><a href="#use-cmdx-s-definitely" class="table-of-contents__link toc-highlight">Use <code>cmdx s</code> definitely</a></li><li><a href="#-how-to-ignore-some-assets-and-versions" class="table-of-contents__link toc-highlight">💡 How to ignore some assets and versions</a></li><li><a href="#how-to-execute-a-package-in-your-machine-during-development" class="table-of-contents__link toc-highlight">How to execute a package in your machine during development</a></li></ul></li><li><a href="#supported-os-and-cpu-architecture" class="table-of-contents__link toc-highlight">Supported OS and CPU Architecture</a></li><li><a href="#test-multiple-versions" class="table-of-contents__link toc-highlight">Test multiple versions</a></li><li><a href="#whats-pkgspkgyaml-for" class="table-of-contents__link toc-highlight">What&#39;s pkgs/**/pkg.yaml for?</a></li><li><a href="#trouble-shooting" class="table-of-contents__link toc-highlight">Trouble shooting</a><ul><li><a href="#cmdx-new-fails-to-push-a-commit-to-the-origin" class="table-of-contents__link toc-highlight"><code>cmdx new</code> fails to push a commit to the origin</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/install">Install</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/slide-blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/orgs/aquaproj/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Question<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/aquaproj/aqua" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/aquaproj/aqua-registry" target="_blank" rel="noopener noreferrer" class="footer__link-item">Standard Registry<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/aquaproj" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/aquaproj/aqua/releases" target="_blank" rel="noopener noreferrer" class="footer__link-item">Changelog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://asciinema.org/a/498262?autoplay=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/aquaclivm" target="_blank" rel="noopener noreferrer" class="footer__link-item">X (Formerly Twitter)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/CBGesz8yBX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Shunsuke Suzuki. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.59d4f377.js"></script>
<script src="/assets/js/main.d0de2ca8.js"></script>
</body>
</html>