"use strict";(globalThis.webpackChunkaqua_docusaurus=globalThis.webpackChunkaqua_docusaurus||[]).push([[5742],{5680:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>y});var n=a(6540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef(function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(a),m=r,y=p["".concat(l,".").concat(m)]||p[m]||d[m]||o;return a?n.createElement(y,i(i({ref:t},c),{},{components:a})):n.createElement(y,i({ref:t},c))});function y(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9303:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=a(8168),r=(a(6540),a(5680));const o={sidebar_position:20},i="Bootstrap",s={unversionedId:"products/aqua-installer/bootstrap",id:"products/aqua-installer/bootstrap",title:"Bootstrap",description:"#716",source:"@site/docs/products/aqua-installer/bootstrap.md",sourceDirName:"products/aqua-installer",slug:"/products/aqua-installer/bootstrap",permalink:"/docs/products/aqua-installer/bootstrap",draft:!1,editUrl:"https://github.com/aquaproj/aquaproj.github.io/edit/main/docs/products/aqua-installer/bootstrap.md",tags:[],version:"current",sidebarPosition:20,frontMatter:{sidebar_position:20},sidebar:"tutorialSidebar",previous:{title:"aqua-installer",permalink:"/docs/products/aqua-installer/"},next:{title:"circleci-orb-aqua",permalink:"/docs/products/circleci-orb-aqua"}},l={},u=[],c={toc:u},p="wrapper";function d({components:e,...t}){return(0,r.yg)(p,(0,n.A)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"bootstrap"},"Bootstrap"),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"https://github.com/aquaproj/aqua-installer/issues/716"},"#716")),(0,r.yg)("p",null,"aqua-installer installs a specific version of aqua before installing a given version of aqua.\nWe call this ",(0,r.yg)("inlineCode",{parentName:"p"},"bootstrap"),".\nThis page describes why ",(0,r.yg)("inlineCode",{parentName:"p"},"bootstrap")," is necessary and aqua-installer doesn't install a give version directly."),(0,r.yg)("p",null,"Bootstrap is required to achieve secure install easily with minimum dependency."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Secure Install: verify checksums and signature"),(0,r.yg)("li",{parentName:"ul"},"Minimum dependency: aqua-installer requires only curl or wget"),(0,r.yg)("li",{parentName:"ul"},"Easy implementation: aqua-installer lets complicated process to ",(0,r.yg)("inlineCode",{parentName:"li"},"aqua update-aqua"))),(0,r.yg)("p",null,(0,r.yg)("a",{parentName:"p",href:"/docs/reference/security/"},"We think Supply Chain Security is so important"),"."),(0,r.yg)("p",null,"To verify checksums, you need to get expected checksums somehow.\naqua-installer supports any versions, so it needs to be able to get checksums of any versions.\nDownloaded checksum files must be verified somehow.\naqua uses tools such as ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/sigstore/cosign"},"Cosign")," for verification, so they must be installed securely before installing aqua.\nTo install Cosign securely, Cosign must be verified. This is a bootstrap issue."),(0,r.yg)("p",null,"To solve this issue, we hardcode a specific aqua version and checksums in aqua-installer.\nWe can trust hardcoded checksums.\naqua-installer downloads the specific version and verifies checksums without Cosign.\nThen aqua-installer executes ",(0,r.yg)("inlineCode",{parentName:"p"},"aqua update-aqua")," command to install Cosign and aqua securely.\nWe hardcode Cosign version and checksums in aqua to install Cosign securely.\n",(0,r.yg)("inlineCode",{parentName:"p"},"aqua update-aqua")," command installs Cosign securely, and installs aqua securely."),(0,r.yg)("p",null,"That's why the bootstrap is required."),(0,r.yg)("p",null,"Without bootstrap, you need to install one of the following tools before executing aqua-installer, which making aqua-installer hard to use."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"Cosign: verification of checksum files"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.com/slsa-framework/slsa-verifier"},"slsa-verifier"),": verification of SLSA Provenance"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"https://github.blog/changelog/2024-06-25-artifact-attestations-is-generally-available/"},"GitHub CLI and GitHub Access Token: verification of GitHub Artifact Attestations"))),(0,r.yg)("p",null,"And we need to take care of compatibility. For example, users may use old GitHub CLI not supporting ",(0,r.yg)("a",{parentName:"p",href:"https://cli.github.com/manual/gh_attestation"},"gh attestation")," command."),(0,r.yg)("p",null,"We hardcode versions and checksums of tools which aqua uses internally not to depend on user environment."),(0,r.yg)("p",null,"aqua-installer lets complicated process to ",(0,r.yg)("inlineCode",{parentName:"p"},"aqua update-aqua"),", making aqua-installer simple."),(0,r.yg)("p",null,"We accept some overhead due to bootstrap."))}d.isMDXComponent=!0}}]);