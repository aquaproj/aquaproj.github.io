"use strict";(self.webpackChunkaqua_docusaurus=self.webpackChunkaqua_docusaurus||[]).push([[4631],{5680:(e,a,n)=>{n.d(a,{xA:()=>u,yg:()=>g});var o=n(6540);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function t(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,o,r=function(e,a){if(null==e)return{};var n,o,r={},t=Object.keys(e);for(o=0;o<t.length;o++)n=t[o],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)n=t[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var a=o.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},u=function(e){var a=c(e.components);return o.createElement(s.Provider,{value:a},e.children)},p="mdxType",y={inlineCode:"code",wrapper:function(e){var a=e.children;return o.createElement(o.Fragment,{},a)}},d=o.forwardRef((function(e,a){var n=e.components,r=e.mdxType,t=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),d=r,g=p["".concat(s,".").concat(d)]||p[d]||y[d]||t;return n?o.createElement(g,i(i({ref:a},u),{},{components:n})):o.createElement(g,i({ref:a},u))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var t=n.length,i=new Array(t);i[0]=d;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<t;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9548:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>y,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var o=n(8168),r=(n(6540),n(5680));const t={sidebar_position:1200},i='The policy file is ignored unless it is allowed by "aqua policy allow" command',l={unversionedId:"reference/codes/003",id:"reference/codes/003",title:'The policy file is ignored unless it is allowed by "aqua policy allow" command',description:"You may face the warning when you try to install or execute packages.",source:"@site/docs/reference/codes/003.md",sourceDirName:"reference/codes",slug:"/reference/codes/003",permalink:"/docs/reference/codes/003",draft:!1,editUrl:"https://github.com/aquaproj/aquaproj.github.io/edit/main/docs/reference/codes/003.md",tags:[],version:"current",sidebarPosition:1200,frontMatter:{sidebar_position:1200},sidebar:"tutorialSidebar",previous:{title:"this package isn't allowed",permalink:"/docs/reference/codes/002"},next:{title:"command is not found",permalink:"/docs/reference/codes/004"}},s={},c=[{value:"What does this warning mean?",id:"what-does-this-warning-mean",level:2},{value:"How to solve the warning",id:"how-to-solve-the-warning",level:2},{value:"See also",id:"see-also",level:2}],u={toc:c},p="wrapper";function y(e){let{components:a,...n}=e;return(0,r.yg)(p,(0,o.A)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"the-policy-file-is-ignored-unless-it-is-allowed-by-aqua-policy-allow-command"},'The policy file is ignored unless it is allowed by "aqua policy allow" command'),(0,r.yg)("p",null,"You may face the warning when you try to install or execute packages."),(0,r.yg)("p",null,"e.g."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-console"},'$ aqua i\nWARN[0000] The policy file is ignored unless it is allowed by "aqua policy allow" command.\n\n$ aqua policy allow "/Users/shunsukesuzuki/Documents/test/aqua/policy-git/aqua-policy.yaml"\n\nIf you want to keep ignoring the policy file without the warning, please run "aqua policy deny" command.\n\n$ aqua policy deny "/Users/shunsukesuzuki/Documents/test/aqua/policy-git/aqua-policy.yaml"\n\n   aqua_version= env=darwin/arm64 policy_file=/Users/shunsukesuzuki/Documents/test/aqua/policy-git/aqua-policy.yaml program=aqua\nERRO[0000] install the package                           aqua_version= doc="https://aquaproj.github.io/docs/reference/codes/002" env=darwin/arm64 error="this package isn\'t allowed" package_name=suzuki-shunsuke/ci-info package_version=v2.1.2 program=aqua registry=local\nFATA[0000] aqua failed                                   aqua_version= env=darwin/arm64 error="it failed to install some packages" program=aqua\n')),(0,r.yg)("h2",{id:"what-does-this-warning-mean"},"What does this warning mean?"),(0,r.yg)("p",null,"This warning means your Policy file isn't allowed yet.\nThe Policy is ignored unless you allow the Policy."),(0,r.yg)("h2",{id:"how-to-solve-the-warning"},"How to solve the warning"),(0,r.yg)("p",null,"Please check your Policy file. If the Policy file has no problem, please run ",(0,r.yg)("inlineCode",{parentName:"p"},"aqua policy allow")," command according to the warning."),(0,r.yg)("p",null,"e.g."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},'aqua policy allow "/Users/shunsukesuzuki/Documents/test/aqua/policy-git/aqua-policy.yaml"\n')),(0,r.yg)("p",null,"If the Policy allows untrusted Registries and you don't want to allow them, please fix the Policy file before allowing the Policy."),(0,r.yg)("p",null,"If you want to suppress the warning but don't want to allow the Policy file, please run ",(0,r.yg)("inlineCode",{parentName:"p"},"aqua policy deny")," command according to the warning."),(0,r.yg)("p",null,"e.g."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},'aqua policy deny "/Users/shunsukesuzuki/Documents/test/aqua/policy-git/aqua-policy.yaml"\n')),(0,r.yg)("p",null,"This command suppresses the warning but the Policy is ignored unless you run ",(0,r.yg)("inlineCode",{parentName:"p"},"aqua policy allow")," command."),(0,r.yg)("h2",{id:"see-also"},"See also"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/reference/security/policy-as-code"},"Reference")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/guides/policy-as-code"},"Guides > Policy as Code"))))}y.isMDXComponent=!0}}]);